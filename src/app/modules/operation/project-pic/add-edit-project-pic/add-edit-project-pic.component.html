<p-toast key="addPic"
  position="bottom-left"></p-toast>
<p-toast key="Pic"
  position="bottom-left"></p-toast>

<form #formDir="ngForm"
  [formGroup]="addEditForm"
  (ngSubmit)="addEditProjectPic()">
  <div class="container">
    <div class="col mt-2">
      <label for="percentGrow">کد</label>
      <input pInputText
        id="code"
        name="code"
        formControlName="code"
        class="w-100 my-1" />
    </div>

    <div class="col mt-2">
      <label for="picDate">تاریخ تصویر</label>
      <p-persian-calendar id="picDate"
        name="picDate"
        formControlName="picDate"
        styleClass="w-100 ">
      </p-persian-calendar>
    </div>

    <div class="col mt-2">
      <label for="title">عنوان</label>
      <input pInputText
        id="title"
        name="title"
        formControlName="title"
        class="w-100 my-1" />
    </div>

    <div class="col mt-2">
      <label for="title">تصویر</label>

      <div style="display: flex"
        class="styleUpload">
        <input pInputText
          type="text"
          name="tempPath" 
          width="100"
          disabled="true"
          [(ngModel)]="attachmentFileName"
          [ngModelOptions]="{ standalone: true }" />
        <p-fileUpload #form
          id="partyLogo"
          mode="basic"
          class="upload-file-button"
          chooseLabel=" آپلود تصویر"
          class="w-100"
          name="attachments[]"
          [auto]="true"
          (onSelect)="uploadAttachment($event.files, form)"></p-fileUpload>
      </div>
    </div>

    <div class="col mt-2">
      <label for="description">شرح</label>
      <textarea pInputTextarea
        id="description"
        name="description"
        formControlName="description"
        rows="3"
        cols="10"
        class="w-100"></textarea>
    </div>
    <div class="d-flex justify-content-end col text-end"
      style="margin-top: 20px">
      <!-- <div class="search-button mt-12">
          <div class="clear-search" (click)="clearSearch()">
            <i class="pi pi-filter-slash"></i>
          </div>
          <p-button
            class="pe-2 p-button-wide"
            styleClass="p-button-info"
            [label]="'جستجو'"
            (click)="getProjectPic()"></p-button>
        </div> -->
    </div>

    <div class="col-12 row-btn row-btn-fixed-bottom">
      <p-button class="pe-2"
        styleClass="p-button-warning"
        label="انصراف"
        icon="pi pi-times"
        (click)="closeModal()"></p-button>
      <p-button class="pe-2 p-button-wide"
        styleClass="p-button-success"
        [label]="'ثبت'"
        type="submit"
        [loading]="isLoadingSubmit"></p-button>
    </div>
  </div>
</form>