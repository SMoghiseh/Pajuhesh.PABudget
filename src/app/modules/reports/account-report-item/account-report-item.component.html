<p-toast key="report"
  position="bottom-left"></p-toast>

<div class="d-flex justify-content-between">
  <div class="table-header">آیتم های گزارشات مالی</div>
</div>
<div class="panel-search mt-8 mb-8">
  <form #formDir="ngForm"
    [formGroup]="accountReportItemForm">
    <div class="row">
      <div class="col-6">
        <label for="accountRepId"> نوع گزارش </label>
        <p-dropdown id="accountRepId"
          name="accountRepId"
          formControlName="accountRepId"
          styleClass="w-100 my-1"
          optionLabel="title"
          optionValue="id"
          (onChange)="onChangeAccountRep(accountRepId)"
          placeholder="انتخاب کنید"
          [options]="accountReportList"
          [filter]="true">
        </p-dropdown>
        <div class="col my-1">
          <label for="title">آیتم گزارش</label>
          <p-treeSelect formControlName="accountRepItemId"
            id="accountRepItemId"
            [options]="accountReportTree"
            containerStyleClass="w-full"
            draggable="true"
            droppable="true"
            value="itemList"
            (selectionChange)="selectionChange($event)"
            [propagateSelectionUp]="true"
            [propagateSelectionDown]="false"
            [filterInputAutoFocus]="true"
            selectionMode="checkbox"
            placeholder="انتخاب کنید"
            [filter]="true"></p-treeSelect>
        </div>
      </div>
      <div class="col-6">
        <p-pickList class="pickListStyle"
          [source]="sourceAccountReport"
          [dragdrop]="true"
          (onSourceReorder)="reorderAccountReport($event)"
          [sourceStyle]="{ height: 'auto', width: '42rem' }"
          breakpoint="1400px">
          <ng-template let-item
            pTemplate="item">
            <div class="flex-1 flex flex-column gap-2">
              <h1 class="font-bold">
                {{ item.accountRepItemTitle }}
              </h1>
            </div>
          </ng-template>
        </p-pickList>
      </div>
    </div>
  </form>
</div>
<div class="justify-content-between pb-3 w-100"
  style="text-align: end">
  <div>
    <p-button class="pe-2"
      (click)="updateAccountRepItem()"
      styleClass="p-button-info"
      icon="pi pi-plus-circle"
      label="ثبت "></p-button>
  </div>
</div>